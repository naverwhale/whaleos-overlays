#
# Copyright 2018 The Chromium OS Authors. All rights reserved.
#
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

unprovisioned-config: &unprovisioned_config
  name: "{{$device-name}}"
  identity: &unprovisioned_identity
    platform-name: "Octopus"
    smbios-name-match: "{{$fw-name}}"
    sku-id: "{{$sku-id-val}}"
  firmware:
    no-firmware: True
  fingerprint:
    sensor-location: "none"

unprovisioned-convertible-config: &unprovisioned_convertible_config
  <<: *unprovisioned_config
  hardware-properties:
    form-factor: CHROMEBOOK
    is-lid-convertible: True
    has-lid-accelerometer: True
    has-base-accelerometer: True
    has-base-gyroscope: True
    has-base-magnetometer: False
    has-touchscreen: True
    $stylus-category: "none"
    stylus-category: "{{$stylus-category}}"

bluetooth-flags: &bluetooth_flags
  enable-suspend-management: true

bluetooth-default: &bluetooth_default
  flags: *bluetooth_flags

bluetooth-stop-on-suspend: &bluetooth_stop_on_suspend
  <<: *bluetooth_default
  flags:
    <<: *bluetooth_flags
    stop-on-suspend: true

audio-main-common: &audio_main_common
  # If the generic 1 or 2 mic locations configuration is not sufficient, the
  # device should override the generic source by setting
  #
  #   /* 1 is for front camera only and 2 is for front + rear cameras. */
  #   $num-mic-locations: 2
  #   $ucm_src_root: "{{$device-name}}"
  #   $ucm_extra_suffix: "{{$device-name}}"
  #
  # If a device has cases of 1 mic and 2 mics in a mic location based on SKU
  # ID, then please override the $ucm_extra_suffix in this way:
  #
  #   /* .[1|2|3|4]mic */
  #   $num-mics: ".2mic"
  #   $ucm_extra_suffix: "{{$device-name}}{{$num-mics}}"
  $cras_root: "/etc/cras"
  $ucm_src_root: "common"
  $ucm_extra_suffix: ""
  $ucm_root: "/usr/share/alsa/ucm"
  $card: "sof-glkda7219max"
  # The audio card with second source codec
  $card2: "sof-glkrt5682max"
  $sub_cras_config: ""
  $cras-source-config-dir: "cras-config{{$sub_cras_config}}"
  $num-mics: ""
  cras-config-dir: "{{$device-name}}{{$sub_cras_config}}"
  ucm-suffix: "{{$num-mic-locations}}loc{{$ucm_extra_suffix}}"

audio-main-files:
  # Volume Curve of $card
  files-map-card_settings: &files_map_card_settings
    source: "{{$device-name}}/audio/{{$cras-source-config-dir}}/card_settings"
    destination: "{{$cras_root}}/{{cras-config-dir}}/{{$card}}"
  # Volume Curve of $card2
  files-map-card2_settings: &files_map_card2_settings
    source: "{{$device-name}}/audio/{{$cras-source-config-dir}}/card2_settings"
    destination: "{{$cras_root}}/{{cras-config-dir}}/{{$card2}}"
  # EQ/DRC DSP configuration
  files-map-dsp-ini: &files_map_dsp_ini
    source: "{{$device-name}}/audio/{{$cras-source-config-dir}}/dsp.ini"
    destination: "{{$cras_root}}/{{cras-config-dir}}/dsp.ini"
  # ALSA UCM configuration file of $card
  files-map-card-conf: &files_map_card_conf
    source: "{{$ucm_src_root}}/audio/ucm-config/{{$card}}.{{$num-mic-locations}}loc{{$num-mics}}/{{$card}}.conf"
    destination: "{{$ucm_root}}/{{$card}}.{{ucm-suffix}}/{{$card}}.{{ucm-suffix}}.conf"
  # ALSA UCM configuration file of $card2
  files-map-card2-conf: &files_map_card2_conf
    source: "{{$ucm_src_root}}/audio/ucm-config/{{$card2}}.{{$num-mic-locations}}loc{{$num-mics}}/{{$card2}}.conf"
    destination: "{{$ucm_root}}/{{$card2}}.{{ucm-suffix}}/{{$card2}}.{{ucm-suffix}}.conf"
  # ALSA UCM SectionUseCase configuration (defined in UCM conf file) of $card
  files-map-HiFi-conf: &files_map_HiFi_conf
    source: "{{$ucm_src_root}}/audio/ucm-config/{{$card}}.{{$num-mic-locations}}loc{{$num-mics}}/HiFi.conf"
    destination: "{{$ucm_root}}/{{$card}}.{{ucm-suffix}}/HiFi.conf"
  # ALSA UCM SectionUseCase configuration (defined in UCM conf file) of $card2
  files-map-HiFi-card2-conf: &files_map_HiFi_card2_conf
    source: "{{$ucm_src_root}}/audio/ucm-config/{{$card2}}.{{$num-mic-locations}}loc{{$num-mics}}/HiFi.conf"
    destination: "{{$ucm_root}}/{{$card2}}.{{ucm-suffix}}/HiFi.conf"
  # the board.ini file
  files-map-board-ini: &files_map_board_ini
    source: "{{$device-name}}/audio/{{$cras-source-config-dir}}/board.ini"
    destination: "{{$cras_root}}/{{cras-config-dir}}/board.ini"

audio-boardini-setting: &audio_boardini_setting
  audio:
    main:
      <<: *audio_main_common
      files:
        - *files_map_card_settings
        - *files_map_dsp_ini
        - *files_map_card_conf
        - *files_map_HiFi_conf
        - *files_map_board_ini

audio-two-cards-setting: &audio_two_cards_setting
  audio:
    main:
      <<: *audio_main_common
      files:
        - *files_map_card_settings
        - *files_map_card2_settings
        - *files_map_dsp_ini
        - *files_map_card_conf
        - *files_map_card2_conf
        - *files_map_HiFi_conf
        - *files_map_HiFi_card2_conf

audio-two-cards-boardini-setting: &audio_two_cards_boardini_setting
  audio:
    main:
      <<: *audio_main_common
      files:
        - *files_map_card_settings
        - *files_map_card2_settings
        - *files_map_dsp_ini
        - *files_map_card_conf
        - *files_map_card2_conf
        - *files_map_HiFi_conf
        - *files_map_HiFi_card2_conf
        - *files_map_board_ini

device-config: &device_config
  <<: *unprovisioned_config
  audio:
    main:
      <<: *audio_main_common
      files:
        - *files_map_card_settings
        - *files_map_dsp_ini
        - *files_map_card_conf
        - *files_map_HiFi_conf

  bluetooth: *bluetooth_default
  camera:
    $camera-clock: "monotonic"
    count: "{{$num-mic-locations}}"
    clock: "{{$camera-clock}}"
  power: &power_default
    $low-battery-shutdown-percent: "4.0"
    low-battery-shutdown-percent: "{{$low-battery-shutdown-percent}}"
    suspend-to-idle: "1"
    disable-dark-resume: "0"
    # At least one panel requires 5% PWM for correct function.
    # Max brightness is 19200, as reported by
    # /sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-eDP-1/intel_backlight/max_brightness
    min-visible-backlight-level: "960"
    $has-keyboard-backlight: "0"
    has-keyboard-backlight: "{{$has-keyboard-backlight}}"
    # 63 is the default value in
    # src/platform2/power_manager/default_prefs/internal_backlight_no_als_battery_brightness
    $internal-backlight-no-als-battery-brightness: "63"
    internal-backlight-no-als-battery-brightness: "{{$internal-backlight-no-als-battery-brightness}}"
    # 40 is the default value in
    # src/platform2/power_manager/default_prefs/keyboard_backlight_no_als_brightness
    $keyboard-backlight-no-als-brightness: "40"
    keyboard-backlight-no-als-brightness: "{{$keyboard-backlight-no-als-brightness}}"
    $smart-discharge-to-zero-hr: "-1"
    smart-discharge-to-zero-hr: "{{$smart-discharge-to-zero-hr}}"
    $cutoff-power-ua: "-1"
    cutoff-power-ua: "{{$cutoff-power-ua}}"
    $hibernate-power-ua: "-1"
    hibernate-power-ua: "{{$hibernate-power-ua}}"
    $defer-external-display-timeout: "0"
    defer-external-display-timeout: "{{$defer-external-display-timeout}}"
  thermal:
    dptf-dv: "{{$device-name}}/dptf.dv"
    files:
      - source: "{{$device-name}}/thermal/dptf.dv"
        destination: "/etc/dptf/{{$device-name}}/dptf.dv"

clamshell-config: &clamshell_config
  <<: *device_config
  hardware-properties:
    form-factor: CHROMEBOOK
    is-lid-convertible: False
    has-lid-accelerometer: False
    has-base-accelerometer: False
    has-base-gyroscope: False
    has-base-magnetometer: False
    has-touchscreen: False
    $stylus-category: "none"
    stylus-category: "{{$stylus-category}}"
  power:
    <<: *power_default

clamshell-touchscreen-config: &clamshell_touchscreen_config
  <<: *device_config
  hardware-properties:
    form-factor: CHROMEBOOK
    is-lid-convertible: False
    has-lid-accelerometer: False
    has-base-accelerometer: False
    has-base-gyroscope: False
    has-base-magnetometer: False
    has-touchscreen: True
    $stylus-category: "none"
    stylus-category: "{{$stylus-category}}"

convertible-config: &convertible_config
  <<: *device_config
  hardware-properties:
    form-factor: CHROMEBOOK
    is-lid-convertible: True
    has-lid-accelerometer: True
    has-base-accelerometer: True
    has-base-gyroscope: True
    has-base-magnetometer: False
    has-touchscreen: True
    $stylus-category: "none"
    stylus-category: "{{$stylus-category}}"
  power: &power_convertible
    <<: *power_default
    $set-wifi-transmit-power-for-tablet-mode: "1"
    set-wifi-transmit-power-for-tablet-mode: "{{$set-wifi-transmit-power-for-tablet-mode}}"

clamshell-wl-config: &clamshell_wl_config
  <<: *clamshell_config
  identity:
    <<: *unprovisioned_identity
    whitelabel-tag: "{{$whitelabel-tag}}"

clamshell-touchscreen-wl-config: &clamshell_touchscreen_wl_config
  <<: *clamshell_touchscreen_config
  identity:
    <<: *unprovisioned_identity
    whitelabel-tag: "{{$whitelabel-tag}}"

convertible-wl-config: &convertible_wl_config
  <<: *convertible_config
  identity:
    <<: *unprovisioned_identity
    whitelabel-tag: "{{$whitelabel-tag}}"

cros-healthd-sku-number-enabled: &cros_healthd_sku_number_enabled
  cros-healthd:
    cached-vpd:
      has-sku-number: True

chromeos:
  devices:
    - $device-name: "yorp"
      $fw-name: "Yorp"
      $num-mic-locations: 2
      skus:
        - $sku-id-val: 255
          config: *convertible_config
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_phaser"
      skus:
        - $sku-id-val: 255
          $fw-name: "Phaser"
          config: *unprovisioned_convertible_config
    - $device-name: "phaser"
      $fw-name: "Phaser"
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      $num-mic-locations: 1
      skus:
        - $sku-id-val: 1
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
    - $device-name: "phaser360"
      $fw-name: "Phaser"
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "dopefish"
        - $whitelabel-tag: "laser-r"
        - $whitelabel-tag: "dopefish-r"
      skus:
        - $sku-id-val: 2
          $num-mic-locations: 1
          $ucm_src_root: "{{$device-name}}"
          $ucm_extra_suffix: "{{$device-name}}"
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_setting
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 3
          $stylus-category: "internal"
          $num-mic-locations: 2
          $ucm_src_root: "{{$device-name}}"
          $ucm_extra_suffix: "{{$device-name}}"
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_setting
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 4
          $num-mic-locations: 2
          $ucm_src_root: "{{$device-name}}"
          $ucm_extra_suffix: "{{$device-name}}"
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_setting
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 5
          $num-mic-locations: 1
          $ucm_src_root: "{{$device-name}}"
          $ucm_extra_suffix: "{{$device-name}}"
          $sub_cras_config: ".laser"
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_setting
            $set-wifi-transmit-power-for-tablet-mode: "0"
    - $device-name: "laser14"
      $fw-name: "Phaser"
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "laser14-r"
      skus:
        - $sku-id-val: 6
          $num-mic-locations: 1
          config: *clamshell_wl_config
        - $sku-id-val: 7
          $num-mic-locations: 1
          config: *clamshell_wl_config
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_fleex"
      skus:
        - $sku-id-val: 255
          $fw-name: "Fleex"
          config: *unprovisioned_convertible_config
    - $device-name: "fleex"
      $fw-name: "Fleex"
      $card2: "sof-cs42l42"
      $num-mic-locations: 1
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}{{$num-mics}}"
      $low-battery-shutdown-percent: "6.0"
      $smart-discharge-to-zero-hr: "2880"
      $cutoff-power-ua: "65"
      $hibernate-power-ua: "1150"
      skus:
        - $sku-id-val: 1
          $num-mics: ".1mic"
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_boardini_setting
        - $sku-id-val: 2
          $num-mics: ".1mic"
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_boardini_setting
        - $sku-id-val: 3
          $num-mics: ".1mic"
          config:
            <<: *clamshell_touchscreen_config
            <<: *audio_two_cards_boardini_setting
        - $sku-id-val: 4
          $num-mics: ".2mic"
          config:
            <<: *clamshell_config
            <<: *audio_boardini_setting
            modem:
              firmware-variant: "{{$device-name}}"
        - $sku-id-val: 5
          $num-mics: ".2mic"
          config:
            <<: *clamshell_touchscreen_config
            <<: *audio_boardini_setting
            modem:
              firmware-variant: "{{$device-name}}"
    - $device-name: "grabbiter"
      $fw-name: "Fleex"
      $card2: "sof-cs42l42"
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      $low-battery-shutdown-percent: "6.0"
      $smart-discharge-to-zero-hr: "2880"
      $cutoff-power-ua: "65"
      $hibernate-power-ua: "1150"
      skus:
        - $sku-id-val: 33
          $num-mic-locations: 1
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 34
          $num-mic-locations: 2
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 35
          $num-mic-locations: 2
          $stylus-category: "external"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
    - $device-name: "orbatrix"
      $fw-name: "Fleex"
      $num-mic-locations: 1
      $low-battery-shutdown-percent: "6.0"
      $smart-discharge-to-zero-hr: "2880"
      $cutoff-power-ua: "65"
      $hibernate-power-ua: "1150"
      skus:
        - $sku-id-val: 65
          config: *clamshell_config
        - $sku-id-val: 129
          config: *clamshell_config
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_bobba"
      skus:
        - $sku-id-val: 255
          $fw-name: "Bobba"
          config: *unprovisioned_convertible_config
    - $device-name: "bobba"
      $fw-name: "Bobba"
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      $num-mic-locations: 1
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "gik"
          $sub_cras_config: ".gik"
      skus:
        - $sku-id-val: 1
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_boardini_setting
        - $sku-id-val: 2
          config:
            <<: *clamshell_touchscreen_wl_config
            <<: *audio_two_cards_boardini_setting
        - $sku-id-val: 3
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_boardini_setting
        - $sku-id-val: 4
          config:
            <<: *clamshell_touchscreen_wl_config
            <<: *audio_two_cards_boardini_setting
    - $device-name: "bobba360"
      $fw-name: "Bobba"
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "gik360"
          $sub_cras_config: ".gik360"
      skus:
        - $sku-id-val: 9
          $stylus-category: "internal"
          $num-mic-locations: 2
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_boardini_setting
        - $sku-id-val: 10
          $num-mic-locations: 2
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_boardini_setting
        - $sku-id-val: 11
          $stylus-category: "internal"
          $num-mic-locations: 1
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_boardini_setting
        - $sku-id-val: 12
          $num-mic-locations: 1
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_boardini_setting
    - $device-name: "sparky"
      $fw-name: "Bobba"
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      skus:
        - $sku-id-val: 17
          $num-mic-locations: 2
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 18
          $num-mic-locations: 2
          config:
            <<: *clamshell_touchscreen_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 19
          $num-mic-locations: 1
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 20
          $num-mic-locations: 1
          config:
            <<: *clamshell_touchscreen_config
            <<: *audio_two_cards_setting
    - $device-name: "sparky360"
      $fw-name: "Bobba"
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      $num-mic-locations: 2
      skus:
        - $sku-id-val: 25
          $stylus-category: "internal"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 26
          $stylus-category: "internal"
          $camera-clock: "boottime"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 27
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
    - $device-name: "droid"
      $fw-name: "Bobba"
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "droid-pb"
      $num-mic-locations: 1
      skus:
        - $sku-id-val: 33
          $has-keyboard-backlight: "1"
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 34
          $has-keyboard-backlight: "1"
          config:
            <<: *clamshell_touchscreen_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 35
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 36
          config:
            <<: *clamshell_touchscreen_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 37
          $sub_cras_config: ".droid_lte"
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
            modem:
              firmware-variant: "{{$device-name}}"
        - $sku-id-val: 38
          $sub_cras_config: ".droid_lte"
          config:
            <<: *clamshell_touchscreen_wl_config
            <<: *audio_two_cards_setting
            modem:
              firmware-variant: "{{$device-name}}"
        - $sku-id-val: 39
          $has-keyboard-backlight: "1"
          $sub_cras_config: ".droid_lte"
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
            modem:
              firmware-variant: "{{$device-name}}"
        - $sku-id-val: 40
          $has-keyboard-backlight: "1"
          $sub_cras_config: ".droid_lte"
          config:
            <<: *clamshell_touchscreen_wl_config
            <<: *audio_two_cards_setting
    - $device-name: "blorb"
      $fw-name: "Bobba"
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      $num-mic-locations: 1
      skus:
        - $sku-id-val: 41
          $has-keyboard-backlight: "1"
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 42
          $has-keyboard-backlight: "1"
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 43
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 44
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_meep"
      skus:
        - $sku-id-val: 255
          $fw-name: "Meep"
          config:
            <<: *unprovisioned_convertible_config
            <<: *cros_healthd_sku_number_enabled
    - $device-name: "meep"
      $fw-name: "Meep"
      skus:
        - $sku-id-val: 1
          $stylus-category: "external"
          $num-mic-locations: 2
          config:
            <<: *convertible_config
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 2
          $num-mic-locations: 2
          config:
            <<: *convertible_config
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 3
          $num-mic-locations: 1
          config:
            <<: *convertible_config
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 4
          $num-mic-locations: 1
          config:
            <<: *convertible_config
            <<: *cros_healthd_sku_number_enabled
    - $device-name: "mimrock"
      $fw-name: "Meep"
      $num-mic-locations: 1
      skus:
        - $sku-id-val: 17
          config:
            <<: *clamshell_config
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 18
          config:
            <<: *clamshell_touchscreen_config
            <<: *cros_healthd_sku_number_enabled
    - $device-name: "dorp"
      $fw-name: "Meep"
      $num-mic-locations: 1
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      skus:
        - $sku-id-val: 33
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 34
          $has-keyboard-backlight: "1"
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 35
          config:
            <<: *clamshell_touchscreen_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 36
          $has-keyboard-backlight: "1"
          config:
            <<: *clamshell_touchscreen_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
    - $device-name: "vortininja"
      $fw-name: "Meep"
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      skus:
        - $sku-id-val: 49
          $stylus-category: "external"
          $num-mic-locations: 2
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 50
          $stylus-category: "external"
          $num-mic-locations: 1
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 51
          $num-mic-locations: 2
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 52
          $num-mic-locations: 1
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
    - $device-name: "vorticon"
      $fw-name: "Meep"
      $num-mic-locations: 1
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      skus:
        - $sku-id-val: 65
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 66
          config:
            <<: *clamshell_touchscreen_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_ampton"
      skus:
        - $sku-id-val: 255
          $fw-name: "Ampton"
          config: *unprovisioned_convertible_config
    - $device-name: "ampton"
      $fw-name: "Ampton"
      # TODO(OEM): need update later
      $num-mic-locations: 2
      $card: "sof-glkrt5682max"
      $ucm_src_root: "ampton"
      $ucm_extra_suffix: "ampton"
      skus:
        - $sku-id-val: 1
          config:
            <<: *convertible_config
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 2
          $stylus-category: "internal"
          config:
            <<: *convertible_config
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 3
          config:
            <<: *convertible_config
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 4
          $stylus-category: "internal"
          config:
            <<: *convertible_config
            $set-wifi-transmit-power-for-tablet-mode: "0"
    - $device-name: "apel"
      $fw-name: "Ampton"
      # TODO(OEM): need update later
      $num-mic-locations: 1
      $card: "sof-glkrt5682max"
      $ucm_src_root: "apel"
      $ucm_extra_suffix: "apel"
      skus:
        - $sku-id-val: 17
          config: *clamshell_config
        - $sku-id-val: 18
          config: *clamshell_touchscreen_config
        - $sku-id-val: 19
          config: *clamshell_config
    - $device-name: "apele"
      $fw-name: "Ampton"
      $num-mic-locations: 1
      $card: "sof-glkrt5682max"
      $ucm_src_root: "apele"
      $ucm_extra_suffix: "apele"
      skus:
        - $sku-id-val: 49
          config: *clamshell_config
        - $sku-id-val: 50
          config: *clamshell_touchscreen_config
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_casta"
      $num-mic-locations: 1
      skus:
        - $sku-id-val: 255
          $fw-name: "Casta"
          config: *unprovisioned_convertible_config
    - $device-name: "casta"
      $fw-name: "Casta"
      $num-mic-locations: 1
      $ucm_src_root: "casta"
      $ucm_extra_suffix: "casta"
      skus:
        - $sku-id-val: 1
          config: *clamshell_config
      $defer-external-display-timeout: "5"
    - $device-name: "bluebird"
      $fw-name: "Casta"
      $num-mic-locations: 1
      $ucm_src_root: "casta"
      $ucm_extra_suffix: "casta"
      skus:
        - $sku-id-val: 2
          config: *clamshell_config
      $defer-external-display-timeout: "5"
    - $device-name: "nospike"
      $fw-name: "Ampton"
      # TODO(OEM): need update later
      $num-mic-locations: 1
      $card: "sof-glkrt5682max"
      $ucm_src_root: "nospike"
      $ucm_extra_suffix: "nospike"
      skus:
        - $sku-id-val: 33
          config: *clamshell_config
        - $sku-id-val: 34
          config: *clamshell_config
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_bloog"
      skus:
        - $sku-id-val: 255
          $fw-name: "Bloog"
          config:
            <<: *unprovisioned_convertible_config
            <<: *cros_healthd_sku_number_enabled
    - $device-name: "bloog"
      $fw-name: "Bloog"
      $num-mic-locations: 1
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      $internal-backlight-no-als-battery-brightness: |-
        60 221
        57 233
      skus:
        - $sku-id-val: 33
          $stylus-category: "external"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 34
          $has-keyboard-backlight: "1"
          $keyboard-backlight-no-als-brightness: "20"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 35
          $stylus-category: "external"
          $has-keyboard-backlight: "1"
          $keyboard-backlight-no-als-brightness: "20"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 36
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
    - $device-name: "blooguard"
      $fw-name: "Bloog"
      $num-mic-locations: 1
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      $internal-backlight-no-als-battery-brightness: |-
        60.5 211
        59.5 221
        58.5 231
        58   237
      skus:
        - $sku-id-val: 49
          $has-keyboard-backlight: "1"
          $keyboard-backlight-no-als-brightness: "20"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 50
          $stylus-category: "external"
          $has-keyboard-backlight: "1"
          $keyboard-backlight-no-als-brightness: "20"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 51
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 52
          $stylus-category: "external"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
        - $sku-id-val: 53
          $sub_cras_config: ".bipship"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
            power:
              <<: *power_convertible
              internal-backlight-no-als-battery-brightness: "63"
        - $sku-id-val: 54
          $sub_cras_config: ".bipship"
          $has-keyboard-backlight: "1"
          $keyboard-backlight-no-als-brightness: "20"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
            power:
              <<: *power_convertible
              internal-backlight-no-als-battery-brightness: "63"
        - $sku-id-val: 55
          $sub_cras_config: ".bipship"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
            wifi:
              tablet-mode-power-table-rtw:
                limit-2g: 148
                limit-5g-1: 116
                limit-5g-3: 116
                limit-5g-4: 116
              non-tablet-mode-power-table-rtw:
                limit-2g: 152
                limit-5g-1: 152
                limit-5g-3: 152
                limit-5g-4: 152
              geo-offsets-fcc:
                offset-2g: 0
                offset-5g: 0
              geo-offsets-eu:
                offset-2g: 0
                offset-5g: 36
              geo-offsets-rest-of-world:
                offset-2g: 0
                offset-5g: 36
            power:
              <<: *power_convertible
              internal-backlight-no-als-battery-brightness: "63"
        - $sku-id-val: 56
          $sub_cras_config: ".bipship"
          $has-keyboard-backlight: "1"
          $keyboard-backlight-no-als-brightness: "20"
          config:
            <<: *convertible_config
            <<: *audio_two_cards_setting
            <<: *cros_healthd_sku_number_enabled
            wifi:
              tablet-mode-power-table-rtw:
                limit-2g: 148
                limit-5g-1: 116
                limit-5g-3: 116
                limit-5g-4: 116
              non-tablet-mode-power-table-rtw:
                limit-2g: 152
                limit-5g-1: 152
                limit-5g-3: 152
                limit-5g-4: 152
              geo-offsets-fcc:
                offset-2g: 0
                offset-5g: 0
              geo-offsets-eu:
                offset-2g: 0
                offset-5g: 36
              geo-offsets-rest-of-world:
                offset-2g: 0
                offset-5g: 36
            power:
              <<: *power_convertible
              internal-backlight-no-als-battery-brightness: "63"
    - $device-name: "blooglet"
      $fw-name: "Bloog"
      $num-mic-locations: 1
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      skus:
        - $sku-id-val: 65
          $has-keyboard-backlight: "1"
          $keyboard-backlight-no-als-brightness: "20"
          config:
            <<: *clamshell_touchscreen_config
            <<: *audio_two_cards_boardini_setting
            <<: *cros_healthd_sku_number_enabled
            bluetooth: *bluetooth_stop_on_suspend
        - $sku-id-val: 66
          config:
            <<: *clamshell_touchscreen_config
            <<: *audio_two_cards_boardini_setting
            <<: *cros_healthd_sku_number_enabled
            bluetooth: *bluetooth_stop_on_suspend
        - $sku-id-val: 67
          $has-keyboard-backlight: "1"
          $keyboard-backlight-no-als-brightness: "20"
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_boardini_setting
            <<: *cros_healthd_sku_number_enabled
            bluetooth: *bluetooth_stop_on_suspend
        - $sku-id-val: 68
          config:
            <<: *clamshell_config
            <<: *audio_two_cards_boardini_setting
            <<: *cros_healthd_sku_number_enabled
            bluetooth: *bluetooth_stop_on_suspend
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_garg"
      skus:
        - $sku-id-val: 255
          $fw-name: "Garg"
          config: *unprovisioned_convertible_config
    - $device-name: "garg"
      $fw-name: "Garg"
      $num-mic-locations: 1
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "ctl"
        - $whitelabel-tag: "pixart"
        - $whitelabel-tag: "gsa"
        - $whitelabel-tag: "sector5"
        - $whitelabel-tag: "sns"
        - $whitelabel-tag: "poin2"
        - $whitelabel-tag: "baicells"
        - $whitelabel-tag: "wsuniforms"
        - $whitelabel-tag: "multilaser"
        - $whitelabel-tag: "positivo"
        - $whitelabel-tag: "advan"
        - $whitelabel-tag: "evercoss"
        - $whitelabel-tag: "zyrex"
        - $whitelabel-tag: "ptsupertone"
        - $whitelabel-tag: "axioo"
        - $whitelabel-tag: "tekno"
        - $whitelabel-tag: "olpc"
      skus:
        - $sku-id-val: 1
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 9
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 17
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
            modem:
              firmware-variant: "{{$device-name}}"
        - $sku-id-val: 18
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
            modem:
              firmware-variant: "{{$device-name}}"
        - $sku-id-val: 19
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 20
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
    - $device-name: "garg360"
      $fw-name: "Garg"
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "ctl"
        - $whitelabel-tag: "pixart"
        - $whitelabel-tag: "gsa"
        - $whitelabel-tag: "sns"
        - $whitelabel-tag: "poin2"
        - $whitelabel-tag: "poin2ascon"
        - $whitelabel-tag: "baicells"
        - $whitelabel-tag: "wsuniforms"
        - $whitelabel-tag: "multilaser"
        - $whitelabel-tag: "positivo"
        - $whitelabel-tag: "advan"
        - $whitelabel-tag: "evercoss"
        - $whitelabel-tag: "zyrex"
        - $whitelabel-tag: "ptsupertone"
        - $whitelabel-tag: "axioo"
        - $whitelabel-tag: "tekno"
      skus:
        - $sku-id-val: 37
          $stylus-category: "external"
          $num-mic-locations: 2
          $ucm_src_root: "{{$device-name}}"
          $ucm_extra_suffix: "{{$device-name}}"
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_setting
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 38
          $num-mic-locations: 2
          $ucm_src_root: "{{$device-name}}"
          $ucm_extra_suffix: "{{$device-name}}"
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_setting
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 39
          $num-mic-locations: 2
          $ucm_src_root: "{{$device-name}}"
          $ucm_extra_suffix: "{{$device-name}}"
          config:
            <<: *convertible_wl_config
            <<: *audio_two_cards_setting
            $set-wifi-transmit-power-for-tablet-mode: "0"
            modem:
              firmware-variant: "{{$device-name}}"
    - $device-name: "garfour"
      $fw-name: "Garg"
      $num-mic-locations: 1
      $ucm_src_root: "{{$device-name}}"
      $ucm_extra_suffix: "{{$device-name}}"
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "ctl"
        - $whitelabel-tag: "tekno"
      skus:
        - $sku-id-val: 49
          config:
            <<: *clamshell_touchscreen_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 50
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 51
          config:
            <<: *clamshell_wl_config
            <<: *audio_two_cards_setting
        - $sku-id-val: 52
          config:
            <<: *clamshell_touchscreen_wl_config
            <<: *audio_two_cards_setting
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_dood"
      skus:
        - $sku-id-val: 255
          $fw-name: "Dood"
          config: *unprovisioned_convertible_config
    - $device-name: "dood"
      $fw-name: "Dood"
      # TODO: need update sku-id later
      skus:
        - $sku-id-val: 1
          $num-mic-locations: 1
          config:
            <<: *convertible_config
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 2
          $num-mic-locations: 1
          config:
            <<: *convertible_config
            $set-wifi-transmit-power-for-tablet-mode: "0"
        - $sku-id-val: 3
          $num-mic-locations: 2
          config:
            <<: *convertible_config
            $set-wifi-transmit-power-for-tablet-mode: "0"
            modem:
              firmware-variant: "{{$device-name}}"
        - $sku-id-val: 4
          $num-mic-locations: 2
          config:
            <<: *convertible_config
            $set-wifi-transmit-power-for-tablet-mode: "0"
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_lick"
      skus:
        - $sku-id-val: 255
          $fw-name: "Lick"
          config: *unprovisioned_convertible_config
    - $device-name: "lick"
      $fw-name: "Lick"
      $num-mic-locations: 1
      skus:
        - $sku-id-val: 1
          config: *clamshell_config
    # This is a temporary model with SKU ID - 255 which is expected to be
    # provisioned with correct SKU ID in the factory flow. And HWID verification
    # will also catch the DUT still with 255 and report error.
    - $device-name: "unprovisioned_foob"
      skus:
        - $sku-id-val: 255
          $fw-name: "Foob"
          config: *unprovisioned_convertible_config
    - $device-name: "foob"
      $fw-name: "Foob"
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "ctl"
        - $whitelabel-tag: "poin2"
        - $whitelabel-tag: "supersonic"
      skus:
        - $sku-id-val: 1
          $num-mic-locations: 1
          config: *clamshell_wl_config
    - $device-name: "foob360"
      $fw-name: "Foob"
      products:
        - $whitelabel-tag: ""
        - $whitelabel-tag: "ctl"
        - $whitelabel-tag: "poin2"
        - $whitelabel-tag: "baicells"
      skus:
        - $sku-id-val: 9
          $num-mic-locations: 2
          config: *convertible_wl_config
