<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright 2021 The Android Open Source Project

     Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
-->

<MediaCodecs>
    <Encoders>
        <MediaCodec name="c2.v4l2.avc.encoder" type="video/avc" update="true">
            <!-- measured 98%:347-1495 med:878 FLAKY(mn=109.9 < 348 - 1496 < mx=1610.3) variance:2.1 -->
            <Limit name="measured-frame-rate-320x240" range="591-1300" /> <!-- N=242 -->
            <!-- measured 97%:170-686 med:463 FLAKY(mn=124.8 < 170 - 686 < mx=762.2) variance:2.0 -->
            <Limit name="measured-frame-rate-720x480" range="275-605" /> <!-- N=142 -->
            <!-- measured 90%:147-326 med:206 FLAKY(mn=80.5 < 103 - 438) -->
            <Limit name="measured-frame-rate-1280x720" range="138-219" /> <!-- N=174 v90%=1.5 -->
            <Limit name="measured-frame-rate-1920x1080" range="131-131" /> <!-- N=174 v98%=1.7 -->
        </MediaCodec>

        <MediaCodec name="c2.android.h263.encoder" type="video/3gpp" update="true">
            <Limit name="measured-frame-rate-176x144" range="960-2112" /> <!-- N=174 v98%=1.7 -->
        </MediaCodec>
        <MediaCodec name="c2.android.avc.encoder" type="video/avc" update="true">
            <!-- measured 98%:228-1693 med:664 FLAKY(mn=191.2 < 229 - 1694 < mx=1712.3) variance:2.7 -->
            <Limit name="measured-frame-rate-320x240" range="384-847" /> <!-- N=172 -->
            <!-- measured 95%:99-452 med:247 FLAKY(mn=27.5 < 99 - 452 < mx=499.3) variance:2.1 -->
            <Limit name="measured-frame-rate-720x480" range="103-227" /> <!-- N=172 -->
            <!-- measured 98%:66-258 med:128 FLAKY(mn=37.0 < 64 - 262 < mx=262.5) -->
            <Limit name="measured-frame-rate-1280x720" range="60-131" /> <!-- N=172 v98%=2.0 -->
            <!-- measured 98%:32-137 med:65 FLAKY(mn=8.9 < 32 - 138) variance:2.0 -->
            <Limit name="measured-frame-rate-1920x1080" range="32-69" /> <!-- N=172 -->
        </MediaCodec>
        <MediaCodec name="c2.android.mpeg4.encoder" type="video/mp4v-es" update="true">
            <Limit name="measured-frame-rate-176x144" range="1289-2146" /> <!-- N=174 v98%=1.7 -->
        </MediaCodec>
        <MediaCodec name="c2.android.vp8.encoder" type="video/x-vnd.on2.vp8" update="true">
            <Limit name="measured-frame-rate-320x180" range="98-215" /> <!-- N=172 v98%=1.7 -->
            <Limit name="measured-frame-rate-640x360" range="82-82" /> <!-- N=172 v98%=1.7 -->
            <Limit name="measured-frame-rate-1280x720" range="32-33" /> <!-- N=172 v98%=1.3 -->
            <!-- measured 98%:17-35 med:30 FLAKY(mn=11.5 < 13 - 50) -->
            <Limit name="measured-frame-rate-1920x1080" range="14-30" /> <!-- N=171 v98%=1.4 -->
        </MediaCodec>
    </Encoders>
    <Decoders>
        <MediaCodec name="c2.v4l2.avc.decoder" type="video/avc" update="true">
            <!-- b/227430851 Adjusted to cover the Voxel performance -->
            <Limit name="measured-frame-rate-320x240" range="728-1600" />
            <Limit name="measured-frame-rate-720x480" range="546-1200" />
            <!-- measured 98%:308-1687 med:957 FLAKY(mn=254.8 < 309 - 1688 < mx=1697.8) variance:2.3 -->
            <Limit name="measured-frame-rate-1280x720" range="384-844" /> <!-- N=400 -->
            <!-- measured 98%:320-770 med:636 FLAKY(mn=224.3 < 249 - 994) -->
            <Limit name="measured-frame-rate-1920x1080" range="290-636" /> <!-- N=400 v98%=1.6 -->
        </MediaCodec>
        <MediaCodec name="c2.v4l2.vp8.decoder" type="video/x-vnd.on2.vp8" update="true">
            <!-- measured 98%:542-3402 med:1495 FLAKY(mn=418.2 < 542 - 3402 < mx=3521.1) variance:2.5 -->
            <Limit name="measured-frame-rate-320x180" range="773-1701" /> <!-- N=400 -->
            <!-- measured 98%:486-2632 med:1342 FLAKY(mn=341.8 < 487 - 2632 < mx=2673.8) variance:2.3 -->
            <Limit name="measured-frame-rate-640x360" range="599-1316" /> <!-- N=403 -->
            <!-- measured 98%:352-1580 med:516 SLOW FLAKY(258 - 1580 < mx=1592.4) variance:2.1 -->
            <Limit name="measured-frame-rate-1280x720" range="360-790" /> <!-- N=944 -->
            <Limit name="measured-frame-rate-1920x1080" range="541-541" /> <!-- N=400 v98%=1.3 -->
        </MediaCodec>
        <MediaCodec name="c2.v4l2.vp9.decoder" type="video/x-vnd.on2.vp9" update="true">
            <!-- measured 98%:510-3116 med:1842 FLAKY(mn=455.0 < 511 - 3116 < mx=3144.7) variance:2.5 -->
            <Limit name="measured-frame-rate-320x180" range="1000-1558" /> <!-- N=266 -->
            <!-- measured 98%:594-2942 med:1718 FLAKY(mn=500.3 < 595 - 2942 < mx=2985.1) variance:2.2 -->
            <Limit name="measured-frame-rate-640x360" range="1100-1471" /> <!-- N=264 -->
            <!-- measured 98%:475-2058 med:1420 FLAKY(mn=452.3 < 475 - 2058 < mx=2092.1) variance:2.1 -->
            <Limit name="measured-frame-rate-1280x720" range="950-1409" /> <!-- N=260 -->
            <Limit name="measured-frame-rate-1920x1080" range="916-1358" /> <!-- N=802 v98%=1.7 -->
            <!-- measured 98%:265-370 med:358 FLAKY(mn=67.3 < 157 - 626) -->
            <Limit name="measured-frame-rate-3840x2160" range="211-313" /> <!-- N=1034 v98%=1.2 -->
          </MediaCodec>
          <MediaCodec name="c2.v4l2.hevc.decoder" type="video/hevc" update="true">
            <!-- measured on chronicler range="426-426" N=270 v98%=1.4 -->
            <!-- measured on elemi 97%:331-2584 med:1972 FLAKY(mn=210.4 < 332 - 2584 < mx=2652.5) variance:2.8 -->
            <!-- measured on elemi range="663-1292" N=252 -->
            <Limit name="measured-frame-rate-352x288" range="605-1330" />
            <!-- measured on chronicler range="463-463" N=270 v98%=1.3 -->
            <!-- measured on elemi 98%:370-2532 med:1859 FLAKY(mn=347.9 < 371 - 2532 < mx=2557.5) variance:2.6 -->
            <!-- measured on elemi range="741-1266" N=252 -->
            <Limit name="measured-frame-rate-640x360" range="582-1280" />
            <!-- measured on chronicler 98%:375-574 med:523 FLAKY(mn=222.6 < 232 - 928) -->
            <!-- measured on chronicler range="464-464" N=270 v98%=1.2 -->
            <!-- measured on elemi 98%:344-2458 med:1912 FLAKY(mn=311.6 < 345 - 2458 < mx=2493.8) variance:2.7 -->
            <!-- measured on elemi range="689-1229" N=252 -->
            <Limit name="measured-frame-rate-720x480" range="569-1250" />
            <!-- measured 90%:947-2101 med:1730 FLAKY(mn=489.5 < 706 - 2822) -->
            <Limit name="measured-frame-rate-1280x720" range="1016-2190" /> <!-- N=142 v90%=1.5 -->
            <!-- measured 90%:814-1583 med:1451 FLAKY(mn=452.9 < 568 - 2272) -->
            <Limit name="measured-frame-rate-1920x1080" range="861-1560" /> <!-- N=142 v90%=1.4 -->
            <!-- measured 90%:319-394 med:378 FLAKY(mn=49.7 < 178 - 710) -->
            <Limit name="measured-frame-rate-3840x2160" range="321-393" /> <!-- N=144 v90%=1.1 -->
        </MediaCodec>
        <MediaCodec name="c2.android.h263.decoder" type="video/3gpp" update="true">
            <!-- measured 98%:605-2763 med:1779 FLAKY(mn=430.1 < 606 - 2764 < mx=2949.9) variance:2.1 -->
            <Limit name="measured-frame-rate-176x144" range="670-1474" /> <!-- N=406 -->
            <!-- measured 98%:500-1997 med:1372 FLAKY(mn=422.3 < 500 - 1998 < mx=2016.1) -->
            <Limit name="measured-frame-rate-352x288" range="624-1372" /> <!-- N=402 v98%=2.0 -->
        </MediaCodec>
        <MediaCodec name="c2.android.avc.decoder" type="video/avc" update="true">
            <!-- measured 98%:298-1271 med:873 FLAKY(mn=251.3 < 298 - 1272 < mx=1278.8) variance:2.1 -->
            <Limit name="measured-frame-rate-320x240" range="397-873" /> <!-- N=398 -->
            <!-- measured 98%:165-524 med:332 FLAKY(mn=103.6 < 148 - 590) -->
            <Limit name="measured-frame-rate-720x480" range="151-332" /> <!-- N=398 v98%=1.8 -->
            <Limit name="measured-frame-rate-1280x720" range="92-92" /> <!-- N=400 v98%=1.7 -->
            <Limit name="measured-frame-rate-1920x1080" range="38-38" /> <!-- N=400 v98%=1.8 -->
        </MediaCodec>
        <MediaCodec name="c2.android.mpeg4.decoder" type="video/mp4v-es" update="true">
            <!-- measured 98%:982-3413 med:2045 FLAKY(mn=815.7 < 916 - 3662) -->
            <Limit name="measured-frame-rate-176x144" range="985-2123" /> <!-- N=400 v98%=1.9 -->
            <Limit name="measured-frame-rate-480x360" range="770-1694" />
            <Limit name="measured-frame-rate-1280x720" range="278-611" />
        </MediaCodec>
        <MediaCodec name="c2.android.vp8.decoder" type="video/x-vnd.on2.vp8" update="true">
            <Limit name="measured-frame-rate-320x180" range="995-995" /> <!-- N=400 v98%=1.8 -->
            <Limit name="measured-frame-rate-640x360" range="484-484" /> <!-- N=400 v98%=1.6 -->
            <!-- measured 98%:82-213 med:163 FLAKY(mn=47.5 < 66 - 264) -->
            <Limit name="measured-frame-rate-1280x720" range="75-163" /> <!-- N=400 v98%=1.6 -->
            <Limit name="measured-frame-rate-1920x1080" range="55-55" /> <!-- N=400 v98%=1.6 -->
        </MediaCodec>
        <MediaCodec name="c2.android.vp9.decoder" type="video/x-vnd.on2.vp9" update="true">
            <!-- measured 98%:546-1502 med:1002 FLAKY(mn=395.3 < 453 - 1812) -->
            <Limit name="measured-frame-rate-320x180" range="456-1002" /> <!-- N=400 v98%=1.7 -->
            <Limit name="measured-frame-rate-640x360" range="449-449" /> <!-- N=400 v98%=1.8 -->
            <Limit name="measured-frame-rate-1280x720" range="176-176" /> <!-- N=400 v98%=1.7 -->
            <Limit name="measured-frame-rate-1920x1080" range="109-109" /> <!-- N=400 v98%=1.7 -->
        </MediaCodec>
    </Decoders>
</MediaCodecs>
