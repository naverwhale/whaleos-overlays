#
# Copyright 2022 The ChromiumOS Authors
#
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

audio_common: &audio_common
  main:
    $cras_root: "/etc/cras"
    $ucm_root: "/usr/share/alsa/ucm"
    $card1: "avs_max98927"
    $card2: "avs_da7219"
    $card3: "avs_dmic"
    $card4: "hdaudioB0D2"

    cras-config-dir: "{{$cras}}"
    ucm-suffix: "{{$ucm}}"

    $cras-source: "{{cras-config-dir}}/audio/cras-config"
    $cras-dest: "{{$cras_root}}/{{cras-config-dir}}"

    $ucm-source1: "{{cras-config-dir}}/audio/ucm-config{{$ucm-source-suffix}}/{{$card1}}"
    $ucm-source2: "{{cras-config-dir}}/audio/ucm-config{{$ucm-source-suffix}}/{{$card2}}"
    $ucm-source3: "{{cras-config-dir}}/audio/ucm-config{{$ucm-source-suffix}}/{{$card3}}"
    $ucm-source4: "{{cras-config-dir}}/audio/ucm-config{{$ucm-source-suffix}}/{{$card4}}"
    $ucm-dest1: "{{$ucm_root}}/{{$card1}}.{{ucm-suffix}}"
    $ucm-dest2: "{{$ucm_root}}/{{$card2}}.{{ucm-suffix}}"
    $ucm-dest3: "{{$ucm_root}}/{{$card3}}.{{ucm-suffix}}"
    $ucm-dest4: "{{$ucm_root}}/{{$card4}}.{{ucm-suffix}}"
    files:
    - source: "{{$cras-source}}/{{$card1}}"
      destination: "{{$cras-dest}}/{{$card1}}"
    - source: "{{$cras-source}}/{{$card2}}"
      destination: "{{$cras-dest}}/{{$card2}}"
    - source: "{{$cras-source}}/dsp.ini"
      destination: "{{$cras-dest}}/dsp.ini"
    - source: "{{$cras-source}}/board.ini"
      destination: "{{$cras-dest}}/board.ini"
    - source: "{{$ucm-source1}}/HiFi.conf"
      destination: "{{$ucm-dest1}}/HiFi.conf"
    - source: "{{$ucm-source1}}/{{$card1}}.conf"
      destination: "{{$ucm-dest1}}/{{$card1}}.{{ucm-suffix}}.conf"
    - source: "{{$ucm-source2}}/HiFi.conf"
      destination: "{{$ucm-dest2}}/HiFi.conf"
    - source: "{{$ucm-source2}}/{{$card2}}.conf"
      destination: "{{$ucm-dest2}}/{{$card2}}.{{ucm-suffix}}.conf"
    - source: "{{$ucm-source3}}/HiFi.conf"
      destination: "{{$ucm-dest3}}/HiFi.conf"
    - source: "{{$ucm-source3}}/{{$card3}}.conf"
      destination: "{{$ucm-dest3}}/{{$card3}}.{{ucm-suffix}}.conf"
    - source: "{{$ucm-source4}}/HiFi.conf"
      destination: "{{$ucm-dest4}}/HiFi.conf"
    - source: "{{$ucm-source4}}/{{$card4}}.conf"
      destination: "{{$ucm-dest4}}/{{$card4}}.{{ucm-suffix}}.conf"

